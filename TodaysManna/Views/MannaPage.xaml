<ContentPage
    x:Class="TodaysManna.Views.MannaPage"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:TodaysManna.Views;assembly=TodaysManna"
    xmlns:w="clr-namespace:AiForms.Layouts;assembly=AiForms.Layouts"
    xmlns:yummy="clr-namespace:Xamarin.Forms.PancakeView;assembly=Xamarin.Forms.PancakeView"
    Title="만나"
    Padding="0,30,0,0"
    NavigationPage.HasNavigationBar="False">

    <StackLayout Spacing="0">
        <Grid Margin="0" Padding="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="25" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />

            </Grid.ColumnDefinitions>
            <Label
                Grid.Column="0"
                FontSize="20"
                Text="만나"
                VerticalOptions="Center" />
            <Button
                x:Name="toolbar_datepicker"
                Grid.Column="3"
                Margin="0"
                Padding="0"
                BorderWidth="0"
                Clicked="OnEnglishButtonClicked"
                Text="English"
                VerticalOptions="Start" />
            <ImageButton
                Grid.Column="4"
                Clicked="OnShareButtonClicked"
                Source="share"
                VerticalOptions="Start" />

        </Grid>

        <BoxView
            Margin="0"
            HeightRequest="1"
            Color="LightGray" />

        <StackLayout Padding="0" Spacing="0">
            <Label
                x:Name="today"
                Text="{Binding Today}"
                TextColor="Gray" />

            <Label
                x:Name="copyButton"
                FontSize="16"
                Text="{Binding ShareRange}" />
            <Label
                x:Name="verse"
                FontAttributes="Bold"
                Text="{Binding JsonMannaData.Verse}" />
            <CollectionView
                x:Name="mannaCollectionView"
                Margin="0,10,0,10"
                BackgroundColor="{AppThemeBinding Dark=#2e2e2e,
                                                  Light=White}"
                Footer=" "
                ItemsSource="{Binding MannaContents}"
                SelectionChanged="OnItemSelected"
                SelectionMode="Single"
                VerticalScrollBarVisibility="Never">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="0,5,0,5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="30" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Label
                                Grid.Row="0"
                                Grid.Column="0"
                                Text="{Binding Number}" />
                            <Label
                                Grid.Row="0"
                                Grid.Column="1"
                                Text="{Binding MannaString}" />

                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </StackLayout>
    </StackLayout>
</ContentPage>

